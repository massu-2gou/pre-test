<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>å°å­¦æ ¡å›½èª_ä½å­¦å¹´_ãƒ‰ãƒªãƒ«ä¿®æ­£ç‰ˆ</title>
    <style>
        /* --- åŸºæœ¬è¨­å®š --- */
        @page { size: A4 landscape; margin: 0; }
        body {
            margin: 0; padding: 0;
            background-color: #eee;
            font-family: "UD Digi Kyokasho NK-R", "Yu Kyokasho", "BIZ UDPGothic", "Meiryo", sans-serif;
            box-sizing: border-box;
        }

        /* --- å°åˆ·ç”¨ã‚·ãƒ¼ãƒˆï¼ˆA4æ¨ªï¼‰ --- */
        .sheet {
            width: 297mm; height: 210mm;
            background-color: #fff;
            padding: 10mm;
            box-sizing: border-box;
            display: none; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆéè¡¨ç¤º */
            flex-direction: row-reverse; /* å³ã‹ã‚‰å·¦ã¸é…ç½® */
            margin: 0 auto;
            position: relative;
            page-break-after: always;
        }
        .sheet.active { display: flex; }

        /* --- å…±é€šï¼šå³ã‚µã‚¤ãƒ‰ãƒãƒ¼ --- */
        .sidebar {
            width: 18%; height: 100%;
            border: 2px solid #000; border-left: none;
            box-sizing: border-box;
            writing-mode: vertical-rl;
            padding: 5mm;
            display: flex; flex-direction: column;
            align-items: center; justify-content: flex-start;
        }
        .title { font-size: 16pt; font-weight: bold; margin-bottom: 10mm; letter-spacing: 2px; margin-top: 10mm; }
        .name-box { font-size: 13pt; line-height: 1.8; letter-spacing: 0.1em; margin-top: 5mm; }
        .instruction { font-size: 13pt; margin-top: auto; margin-bottom: 5mm; }
        .page-num { position: absolute; bottom: 5mm; left: 50%; transform: translateX(-50%); font-size: 10pt; writing-mode: horizontal-tb;}

        /* --- å…±é€šï¼šãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ --- */
        .main-content {
            width: 82%; height: 100%;
            border: 2px solid #000;
            box-sizing: border-box;
            padding: 5mm;
            position: relative;
            display: flex;
        }

        /* --- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆAï¼šã‚°ãƒªãƒƒãƒ‰ --- */
        .layout-grid {
            flex-direction: row-reverse;
            justify-content: space-around; align-items: flex-start; height: 100%;
        }
        .grid-col {
            height: 95%; width: 15%;
            display: flex; flex-direction: column; align-items: center;
        }
        .q-header {
            writing-mode: vertical-rl; font-size: 15pt;
            margin-bottom: 8mm; height: 35mm;
            display: flex; align-items: center; justify-content: flex-end;
            padding-left: 2mm;
        }
        .masu-container { display: flex; flex-direction: column; }
        .masu {
            width: 22mm; height: 22mm; border: 1px solid #000;
            margin-bottom: -1px; position: relative;
        }
        .masu::before { content: ""; position: absolute; top: 50%; left: 0; width: 100%; border-top: 1px dashed #ccc; }
        .masu::after { content: ""; position: absolute; left: 50%; top: 0; height: 100%; border-left: 1px dashed #ccc; }
        .illust { font-size: 35pt; margin-top: 5mm; text-align: center; }

        /* --- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆA-2ï¼šã‚°ãƒªãƒƒãƒ‰ï¼ˆä¸‹éƒ¨ã«å•é¡Œã‚ã‚Šï¼‰ --- */
        .layout-grid-split {
            flex-direction: column;
            justify-content: space-between;
        }
        .grid-upper {
            height: 50%; 
            width: 100%;
            display: flex; flex-direction: row-reverse; justify-content: space-around;
            border-bottom: 2px dashed #aaa;
            padding-bottom: 2mm;
        }
        .grid-upper .grid-col { height: 100%; }
        .grid-upper .illust { font-size: 30pt; margin-top: 0; } 

        .grid-lower {
            height: 45%;
            width: 100%;
            padding-top: 2mm;
            display: flex; 
            flex-direction: row-reverse; 
            justify-content: space-around; 
            align-items: flex-start;
        }
        .footer-question {
            writing-mode: vertical-rl; 
            font-size: 16pt;
            height: 100%;
            line-height: 2; 
            display: flex;
            align-items: center; 
            letter-spacing: 0.1em;
            white-space: nowrap; 
        }
        .masu-inline {
            display: inline-block; width: 16mm; height: 16mm; 
            border: 2px solid #000; margin: 5px 2px; vertical-align: text-bottom;
        }
        .footer-label {
            position: absolute; bottom: 2mm; right: 2mm; 
            font-size: 12pt; border: 1px solid #000; padding: 2px 5px; border-radius: 5px;
            background: #fff;
        }

        /* --- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆBï¼šæ–‡ã¥ãã‚Š --- */
        .layout-bun {
            flex-direction: row-reverse;
            justify-content: space-around; height: 100%;
            padding-right: 0;
        }
        .bun-row {
            width: 32%; height: 100%;
            display: flex; flex-direction: column; align-items: center;
            border-left: 1px dashed #ddd;
        }
        .bun-row:last-child { border-left: none; }
        .bun-header {
            height: 25%; width: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border-bottom: 2px solid #000; margin-bottom: 5mm;
        }
        .bun-prompt { font-size: 14pt; margin-bottom: 2mm; font-weight: bold; writing-mode: horizontal-tb; text-align: center;}
        .bun-illust { font-size: 35pt; }
        .bun-masu-area { height: 70%; display: flex; flex-direction: row-reverse; gap: 3mm; }
        .bun-col { display: flex; flex-direction: column; }
        .masu-simple {
            width: 16.5mm; height: 16.5mm; border: 1px solid #000; margin-bottom: -1px; 
        }

        /* --- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆCï¼šã—ã‚Šã¨ã‚Š --- */
        .layout-shiritori {
            flex-direction: column; justify-content: space-around; height: 100%; padding: 0 5mm;
        }
        .shiritori-row {
            display: flex; justify-content: space-between; align-items: center; height: 30%;
            border-bottom: 1px dashed #ddd; padding-bottom: 2mm;
        }
        .shiritori-item {
            display: flex; flex-direction: column; align-items: center; width: 22%;
        }
        .s-box {
            width: 35mm; height: 35mm; border: 2px solid #000;
            display: flex; align-items: center; justify-content: center; font-size: 40pt;
            background: #fff;
        }
        .s-text { font-size: 12pt; margin-top: 2mm; text-align: center; }
        .s-arrow { font-size: 30pt; color: #555; }
        .s-empty { background-color: #fff; }

        /* --- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆDï¼šé–“é•ã„ç›´ã— --- */
        .layout-error {
            flex-direction: row-reverse; justify-content: space-around; height: 100%;
        }
        .error-col {
            width: 20%; height: 100%; 
            display: flex; flex-direction: column; align-items: center; padding-top: 5mm;
        }
        .error-sentence {
            writing-mode: vertical-rl; font-size: 18pt; height: 40%; letter-spacing: 0.1em;
            padding-left: 0; margin-bottom: 5mm; margin-left: 0;
            display: flex; align-items: center;
        }
        /* ä¿®æ­£ï¼šæ–‡å­—æ•°ã«åˆã‚ã›ã¦å¢—æ¸›ã™ã‚‹ãƒã‚¹ */
        .error-masu-container {
            display: flex; flex-direction: column;
            align-items: center;
        }
        .masu-error {
            width: 18mm; height: 18mm; 
            border: 1px solid #000;
            margin-bottom: -1px; 
            position: relative;
        }
        /* åå­—ãƒªãƒ¼ãƒ€ãƒ¼ */
        .masu-error::before { content: ""; position: absolute; top: 50%; left: 0; width: 100%; border-top: 1px dashed #ccc; }
        .masu-error::after { content: ""; position: absolute; left: 50%; top: 0; height: 100%; border-left: 1px dashed #ccc; }

        .check-mark { font-size: 20pt; color: #d00; font-weight: bold; margin-bottom: 2mm;}

        /* --- æ“ä½œãƒ‘ãƒãƒ« --- */
        .control-panel {
            position: fixed; top: 0; left: 0; width: 100%;
            background: #333; color: #fff; padding: 15px;
            z-index: 9999; display: flex; gap: 20px; align-items: center; justify-content: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        select { font-size: 16px; padding: 8px; border-radius: 4px; }
        button { 
            font-size: 16px; padding: 8px 20px; cursor: pointer; 
            background-color: #4CAF50; color: white; border: none; border-radius: 4px; font-weight: bold;
        }
        button:hover { background-color: #45a049; }
        /* é·ç§»ãƒœã‚¿ãƒ³ */
        .nav-btn { background-color: #2196F3; }
        .nav-btn:hover { background-color: #0b7dda; }
        
        @media print {
            .control-panel { display: none !important; }
            body, .sheet { background-color: #fff; margin: 0; }
            .sheet { display: flex !important; page-break-after: always; }
        }
    </style>
</head>
<body>

    <div class="control-panel">
        <label>ä½å­¦å¹´ç”¨ãƒ‰ãƒªãƒ«:</label>
        <select id="pageSelector" onchange="switchView()"></select>
        <button onclick="window.print()">ğŸ–¨ï¸ å°åˆ·ã™ã‚‹</button>
        <button class="nav-btn" onclick="location.href='pre-test2.html'">â¡ ä¸­å­¦å¹´ç”¨ãƒ‰ãƒªãƒ«ã¸</button>
    </div>

    <div id="sheets-container"></div>

    <script>
        const pages = [
            // ã‚«ã‚¿ã‚«ãƒŠ
            { id: 1, type: 'grid', title: 'ã‹ãŸã‹ãªï¼ˆåˆç´šï¼‰â˜…', inst: 'ã²ã‚‰ãŒãªã‚’ ã‹ãŸã‹ãªã« ãªãŠã—ã¾ã—ã‚‡ã†ã€‚', 
              data: [ { q: 'â‘ ãŸãã—ã„', ans: 4, img: 'ğŸš•' }, { q: 'â‘¡ã°ãªãª', ans: 3, img: 'ğŸŒ' }, { q: 'â‘¢ã¦ã‚Œã³', ans: 3, img: 'ğŸ“º' }, { q: 'â‘£ã‹ã‚ã‚‰', ans: 3, img: 'ğŸ“·' }, { q: 'â‘¤ã‚‰ã˜ãŠ', ans: 3, img: 'ğŸ“»' }, { q: 'â—ã‚ã‚ã‚“', ans: 3, img: 'ğŸˆ' } ] },
            { id: 2, type: 'grid', title: 'ã‹ãŸã‹ãªï¼ˆå°ã•ã„å­—ï¼‰â˜…', inst: 'ã²ã‚‰ãŒãªã‚’ ã‹ãŸã‹ãªã« ãªãŠã—ã¾ã—ã‚‡ã†ã€‚',
              data: [ { q: 'â‘ ã‚ˆã£ã¨', ans: 3, img: 'â›µ' }, { q: 'â‘¡ã¹ã£ã©', ans: 3, img: 'ğŸ›ï¸' }, { q: 'â‘¢ã—ã‚‡ã¹ã‚‹', ans: 4, img: 'ğŸšœ' }, { q: 'â‘£ã—ã‚ƒã¤', ans: 3, img: 'ğŸ‘•' }, { q: 'â‘¤ã‚ã‘ã£ã¨', ans: 4, img: 'ğŸš€' }, { q: 'â—ã¡ã‚‡ã“', ans: 3, img: 'ğŸ«' } ] },
            { id: 3, type: 'grid', title: 'ã‹ãŸã‹ãªï¼ˆã®ã°ã™éŸ³ï¼‰â˜…', inst: 'ã²ã‚‰ãŒãªã‚’ ã‹ãŸã‹ãªã« ãªãŠã—ã¾ã—ã‚‡ã†ã€‚',
              data: [ { q: 'â‘ ã‘ãˆã', ans: 3, img: 'ğŸ°' }, { q: 'â‘¡ã¼ãŠã‚‹', ans: 3, img: 'âš½' }, { q: 'â‘¢ã™ã·ã†ã‚“', ans: 4, img: 'ğŸ¥„' }, { q: 'â‘£ã™ãã„', ans: 3, img: 'ğŸ¿' }, { q: 'â‘¤ã®éŸ³', ans: 3, img: 'ğŸ““' }, { q: 'â—ã™ã‹ã‚ã¨', ans: 4, img: 'ğŸ‘—' } ] },
            // æ–‡ã¥ãã‚Š
            { id: 4, type: 'bun', title: 'å‹•ç‰©ã®å£°ï¼ˆä¸­ç´šï¼‰â˜…â˜…', inst: 'å‹•ç‰©ã®ãªãå£°ã‚’ã¤ã‹ã£ã¦ã€æ–‡ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚',
              data: [ { prompt: 'ã€Œãƒ¯ãƒ³ãƒ¯ãƒ³ã€', img: 'ğŸ•' }, { prompt: 'ã€Œãƒ‹ãƒ£ãƒ¼ã€', img: 'ğŸˆ' }, { prompt: 'ã€Œãƒ¢ãƒ¼ã€', img: 'ğŸ„' } ] },
            { id: 5, type: 'bun', title: 'ã„ã‚ã„ã‚ãªéŸ³ï¼ˆä¸­ç´šï¼‰â˜…â˜…', inst: 'éŸ³ã®è¨€è‘‰ã‚’ã¤ã‹ã£ã¦ã€æ–‡ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚',
              data: [ { prompt: 'ã€Œã‚¶ãƒ¼ã‚¶ãƒ¼ã€', img: 'â˜”' }, { prompt: 'ã€Œãƒ‰ãƒ³ãƒ‰ãƒ³ã€', img: 'ğŸ¥' }, { prompt: 'ã€Œãƒ–ãƒ¼ãƒ–ãƒ¼ã€', img: 'ğŸš—' } ] },
            { id: 6, type: 'grid', title: 'å¤–å›½ã®è¨€è‘‰ï¼ˆä¸­ç´šï¼‰â˜…â˜…', inst: 'å¤–å›½ã‹ã‚‰æ¥ãŸè¨€è‘‰ã‚’ ã‹ãŸã‹ãªã§ æ›¸ãã¾ã—ã‚‡ã†ã€‚',
              data: [ { q: 'â‘ ã´ã‚ã®', ans: 3, img: 'ğŸ¹' }, { q: 'â‘¡ããŸã‚', ans: 3, img: 'ğŸ¸' }, { q: 'â‘¢ã±ã‚“', ans: 2, img: 'ğŸ' }, { q: 'â‘£ãª ã„ãµ', ans: 3, img: 'ğŸ´' }, { q: 'â‘¤ã°ã™', ans: 2, img: 'ğŸšŒ' }, { q: 'â—ã¨ã‚Œ ã„ã‚Œ', ans: 4, img: 'ğŸš½' } ] },
            { id: 7, type: 'bun', title: 'æ–‡ã¥ãã‚Šâ‘ ï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'è¨€è‘‰ã‚’ã¤ã‹ã£ã¦ æ–‡ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚',
              data: [ { prompt: 'ã€Œãƒã‚¹ã€', img: 'ğŸšŒ' }, { prompt: 'ã€Œãƒ—ãƒ¼ãƒ«ã€', img: 'ğŸŠ' }, { prompt: 'ã€ŒãƒãƒŠãƒŠã€', img: 'ğŸŒ' } ] },
            { id: 8, type: 'bun', title: 'æ–‡ã¥ãã‚Šâ‘¡ï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'è¨€è‘‰ã‚’ã¤ã‹ã£ã¦ æ–‡ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚',
              data: [ { prompt: 'ã€Œã‚¢ã‚¤ã‚¹ã€', img: 'ğŸ¨' }, { prompt: 'ã€Œã‚³ãƒƒãƒ—ã€', img: 'ğŸ¥¤' }, { prompt: 'ã€Œã‚ºãƒœãƒ³ã€', img: 'ğŸ‘–' } ] },
            { id: 9, type: 'bun', title: 'æ–‡ã¥ãã‚Šâ‘¢ï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'è¨€è‘‰ã‚’ã¤ã‹ã£ã¦ æ–‡ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚',
              data: [ { prompt: 'ã€Œãƒ‹ãƒ¥ãƒ¼ã‚¹ã€', img: 'ğŸ“º' }, { prompt: 'ã€Œãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã€', img: 'ğŸ' }, { prompt: 'ã€Œãƒãƒ³ãƒãƒ¼ã‚°ã€', img: 'ğŸ–' } ] },
            // æ¼¢å­—
            { id: 10, type: 'grid', title: 'æ¼¢å­—ï¼ˆä½“ï¼‰â˜…â˜…', inst: 'ä½“ã®éƒ¨åˆ†ã®æ¼¢å­—ã‚’ æ›¸ãã¾ã—ã‚‡ã†ã€‚',
              data: [ { q: 'â‘ ã‚', ans: 1, img: 'ğŸ‘ï¸' }, { q: 'â‘¡ã¿ã¿', ans: 1, img: 'ğŸ‘‚' }, { q: 'â‘¢ãã¡', ans: 1, img: 'ğŸ‘„' }, { q: 'â‘£ã¦', ans: 1, img: 'âœ‹' }, { q: 'â‘¤ã‚ã—', ans: 1, img: 'ğŸ¦¶' }, { q: 'â—ã¡ã‹ã‚‰', ans: 1, img: 'ğŸ’ª' } ],
              footer: [ 'å¤§ããª <span class="masu-inline"></span> ã‚’ ã‚ã‘ã‚‹ã€‚', '<span class="masu-inline"></span> ã‚’ é«˜ã ã‚ã’ã‚‹ã€‚', '<span class="masu-inline"></span> ãŒ ã¯ã‚„ã„ã€‚' ] },
            { id: 11, type: 'grid', title: 'æ¼¢å­—ï¼ˆè‡ªç„¶ï¼‰â˜…â˜…', inst: 'è‡ªç„¶ã®æ¼¢å­—ã‚’ æ›¸ãã¾ã—ã‚‡ã†ã€‚',
              data: [ { q: 'â‘ ã²', ans: 1, img: 'â˜€ï¸' }, { q: 'â‘¡ã¤ã', ans: 1, img: 'ğŸŒ™' }, { q: 'â‘¢ã‚„ã¾', ans: 1, img: 'â›°ï¸' }, { q: 'â‘£ã‹ã‚', ans: 1, img: 'ğŸŒŠ' }, { q: 'â‘¤ã', ans: 1, img: 'ğŸŒ³' }, { q: 'â—ã¯ãª', ans: 1, img: 'ğŸŒ·' } ],
              footer: [ 'ãã‚Œã„ãª <span class="masu-inline"></span> ãŒ ã•ãã€‚', '<span class="masu-inline"></span> ãŒ ãªãŒã‚Œã‚‹ã€‚', '<span class="masu-inline"></span> ã« ã®ã¼ã‚‹ã€‚' ] },
            { id: 12, type: 'grid', title: 'æ¼¢å­—ï¼ˆå­¦æ ¡ï¼‰â˜…â˜…', inst: 'å­¦æ ¡ã«ã‚ã‚‹ã‚‚ã®ã®æ¼¢å­—ã‚’ æ›¸ãã¾ã—ã‚‡ã†ã€‚',
              data: [ { q: 'â‘ ã»ã‚“', ans: 1, img: 'ğŸ“–' }, { q: 'â‘¡ã¶ã‚“', ans: 1, img: 'âœï¸' }, { q: 'â‘¢ãã‚‹ã¾', ans: 1, img: 'ğŸš—' }, { q: 'â‘£ã‚€ã—', ans: 1, img: 'ğŸ' }, { q: 'â‘¤ã‚ã‹', ans: 1, img: 'ğŸ”´' }, { q: 'â—ã‚ãŠ', ans: 1, img: 'ğŸ”µ' } ],
              footer: [ '<span class="masu-inline"></span> ã‚’ ã‚ˆã‚€ã€‚', '<span class="masu-inline"></span> ã« ã®ã‚‹ã€‚', '<span class="masu-inline"></span> ã‚’ ã¤ã‹ã¾ãˆã‚‹ã€‚' ] },
            // æ¼¢å­—æ–‡
            { id: 13, type: 'bun', title: 'æ¼¢å­—æ–‡ã¥ãã‚Šâ‘ ï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'æ¼¢å­—ã‚’ã¤ã‹ã£ã¦ æ–‡ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚',
              data: [ { prompt: 'ã€Œå±±ã€', img: 'â›°ï¸' }, { prompt: 'ã€Œå·ã€', img: 'ğŸŒŠ' }, { prompt: 'ã€Œç”°ã€', img: 'ğŸŒ¾' } ] },
            { id: 14, type: 'bun', title: 'æ¼¢å­—æ–‡ã¥ãã‚Šâ‘¡ï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'æ¼¢å­—ã‚’ã¤ã‹ã£ã¦ æ–‡ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚',
              data: [ { prompt: 'ã€Œå£ã€', img: 'ğŸ‘„' }, { prompt: 'ã€Œæ‰‹ã€', img: 'âœ‹' }, { prompt: 'ã€Œç›®ã€', img: 'ğŸ‘ï¸' } ] },
            { id: 15, type: 'bun', title: 'æ¼¢å­—æ–‡ã¥ãã‚Šâ‘¢ï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'æ¼¢å­—ã‚’ã¤ã‹ã£ã¦ æ–‡ã‚’ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚',
              data: [ { prompt: 'ã€Œé›¨ã€', img: 'â˜”' }, { prompt: 'ã€Œå¤©ã€', img: 'ğŸŒ¤ï¸' }, { prompt: 'ã€Œæ°—ã€', img: 'ğŸ˜Š' } ] },
            // ã—ã‚Šã¨ã‚Š
            { id: 16, type: 'shiritori', title: 'ã—ã‚Šã¨ã‚Šï¼ˆåˆç´šï¼‰â˜…', inst: 'ãˆã‚’ã¿ã¦ ã—ã‚Šã¨ã‚Šã‚’ ã‹ã‚“ã›ã„ã•ã›ã¾ã—ã‚‡ã†ã€‚',
              data: [ {s_img:'ğŸ', s_txt:'ã‚Šã‚“ã”', e_img:'ğŸº', e_txt:'ã‚‰ã£ã±'}, {s_img:'ğŸ§¢', s_txt:'ã¼ã†ã—', e_img:'ğŸŒ‚', e_txt:'ã‹ã•'} ] },
            { id: 17, type: 'shiritori', title: 'ã—ã‚Šã¨ã‚Šï¼ˆä¸­ç´šï¼‰â˜…â˜…', inst: 'ãˆã‚’ã¿ã¦ ã—ã‚Šã¨ã‚Šã‚’ ã—ã¾ã—ã‚‡ã†ã€‚',
              data: [ {s_img:'ğŸ‰', s_txt:'ã™ã„ã‹', e_img:'ğŸ‘“', e_txt:'ã‚ãŒã­'}, {s_img:'ğŸ±', s_txt:'ã­ã“', e_img:'ğŸ›Œ', e_txt:'ã¾ãã‚‰'} ] },
            { id: 18, type: 'shiritori', title: 'ã—ã‚Šã¨ã‚Šï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'ãˆã‚’ã¿ã¦ ã—ã‚Šã¨ã‚Šã‚’ ã—ã¾ã—ã‚‡ã†ã€‚',
              data: [ {s_img:'âœï¸', s_txt:'ãˆã‚“ã´ã¤', e_img:'ğŸ¦Š', e_txt:'ãã¤ã­'}, {s_img:'â°', s_txt:'ã¨ã‘ã„', e_img:'ğŸ‰', e_txt:'ã™ã„ã‹'} ] },
            // é–“é•ã„ç›´ã—
            { id: 19, type: 'error', title: 'ã¾ã¡ãŒã„ç›´ã—â‘ ï¼ˆåˆç´šï¼‰â˜…', inst: 'ã¾ã¡ãŒã„ã‚’ç›´ã—ã¦ æ­£ã—ãæ›¸ãã¾ã—ã‚‡ã†ã€‚',
              data: [ { q: 'ã“ã‚“ã°ã‚“ã‚', ans: 'ã“ã‚“ã°ã‚“ã¯' }, { q: 'ã“ã‚“ã«ã¡ã‚', ans: 'ã“ã‚“ã«ã¡ã¯' }, { q: 'ãŠã¨ãŠã¨', ans: 'ãŠã¨ã†ã¨' }, { q: 'ã›ã‚“ã›ãˆ', ans: 'ã›ã‚“ã›ã„' } ] },
            { id: 20, type: 'error', title: 'ã¾ã¡ãŒã„ç›´ã—â‘¡ï¼ˆä¸­ç´šï¼‰â˜…â˜…', inst: 'ã®ã°ã™éŸ³ã«æ°—ã‚’ã¤ã‘ã¦ ç›´ã—ã¾ã—ã‚‡ã†ã€‚',
              data: [ { q: 'ãŠã¨ãŠã•ã‚“', ans: 'ãŠã¨ã†ã•ã‚“' }, { q: 'ã“ãŠãˆã‚“', ans: 'ã“ã†ãˆã‚“' }, { q: 'ã¨ã‘ãˆ', ans: 'ã¨ã‘ã„' }, { q: 'ãŠã­ã„ã•ã‚“', ans: 'ãŠã­ãˆã•ã‚“' } ] },
            { id: 21, type: 'error', title: 'ã¾ã¡ãŒã„ç›´ã—â‘¢ï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'ã€Œã‚ã€ã¨ã€Œã¯ã€ã€ã€ŒãŠã€ã¨ã€Œã‚’ã€ã«æ°—ã‚’ã¤ã‘ã‚ˆã†ã€‚',
              data: [ { q: 'ã‚ãŸã—ã‚ã„ã', ans: 'ã‚ãŸã—ã¯' }, { q: 'ã»ã‚“ãŠã‚ˆã‚€', ans: 'ã»ã‚“ã‚’' }, { q: 'ã†ã¿ãˆã„ã', ans: 'ã†ã¿ã¸' }, { q: 'ãˆãŠã‹ã', ans: 'ãˆã‚’' } ] },
            { id: 22, type: 'error', title: 'ã¾ã¡ãŒã„ç›´ã—â‘£ï¼ˆä¸Šç´šï¼‰â˜…â˜…â˜…', inst: 'å°ã•ã„ã€Œã£ã€ã€Œã‚ƒã€ã«æ°—ã‚’ã¤ã‘ã‚ˆã†ã€‚',
              data: [ { q: 'ã‚‰ã±', ans: 'ã‚‰ã£ã±' }, { q: 'ã˜ã‚†ã†', ans: 'ã˜ã‚…ã†' }, { q: 'ã³ã‚ˆã†ã„ã‚“', ans: 'ã³ã‚‡ã†ã„ã‚“' }, { q: 'ãã¤ã·', ans: 'ãã£ã·' } ] }
        ];

        function generateAllPages() {
            const container = document.getElementById('sheets-container');
            const selector = document.getElementById('pageSelector');
            
            pages.forEach((page, index) => {
                const opt = document.createElement('option');
                opt.value = index;
                opt.innerText = `ç¬¬${page.id}å›ï¼š${page.title}`;
                selector.appendChild(opt);

                const sheet = document.createElement('div');
                sheet.className = 'sheet';
                sheet.id = `sheet-${index}`;
                if (index === 0) sheet.classList.add('active');

                let contentHtml = '';
                let contentClass = 'main-content';

                if (page.type === 'grid') {
                    if (page.footer) {
                        contentClass += ' layout-grid-split';
                        let upperHtml = '';
                        page.data.forEach(item => {
                            let masuHtml = '';
                            for(let i=0; i<item.ans; i++) masuHtml += '<div class="masu"></div>';
                            upperHtml += `<div class="grid-col"><div class="q-header">${item.q}</div><div class="masu-container">${masuHtml}</div><div class="illust">${item.img}</div></div>`;
                        });
                        let lowerHtml = '<div class="footer-label">â–¡ï¼ˆã‹ã‚“ã˜ï¼‰ã‚’ ã‹ãã¾ã—ã‚‡ã†</div>';
                        page.footer.forEach(qStr => { lowerHtml += `<div class="footer-question">${qStr}</div>`; });
                        contentHtml = `<div class="grid-upper">${upperHtml}</div><div class="grid-lower">${lowerHtml}</div>`;
                    } else {
                        contentClass += ' layout-grid';
                        page.data.forEach(item => {
                            let masuHtml = '';
                            for(let i=0; i<item.ans; i++) masuHtml += '<div class="masu"></div>';
                            contentHtml += `<div class="grid-col"><div class="q-header">${item.q}</div><div class="masu-container">${masuHtml}</div><div class="illust">${item.img}</div></div>`;
                        });
                    }
                } else if (page.type === 'bun') {
                    contentClass += ' layout-bun';
                    page.data.forEach(item => {
                        let masuCols = '';
                        for(let c=0; c<3; c++){
                            let colMasu = '';
                            for(let r=0; r<8; r++) colMasu += '<div class="masu-simple"></div>';
                            masuCols += `<div class="bun-col">${colMasu}</div>`;
                        }
                        contentHtml += `<div class="bun-row"><div class="bun-header"><div class="bun-illust">${item.img}</div><div class="bun-prompt">${item.prompt}</div></div><div class="bun-masu-area">${masuCols}</div></div>`;
                    });
                } else if (page.type === 'shiritori') {
                    contentClass += ' layout-shiritori';
                    page.data.forEach(row => {
                        contentHtml += `<div class="shiritori-row"><div class="shiritori-item"><div class="s-box">${row.s_img}</div><div class="s-text">${row.s_txt}</div></div><div class="s-arrow">â¡</div><div class="shiritori-item"><div class="s-box s-empty"></div><div class="s-text">ï¼ˆã€€ã€€ã€€ã€€ã€€ï¼‰</div></div><div class="s-arrow">â¡</div><div class="shiritori-item"><div class="s-box">${row.e_img}</div><div class="s-text">${row.e_txt}</div></div></div>`;
                    });
                } else if (page.type === 'error') {
                    contentClass += ' layout-error';
                    page.data.forEach(item => {
                        let masuHtml = '';
                        // ç­”ãˆã®æ–‡å­—æ•°åˆ†ã ã‘ãƒã‚¹ã‚’ç”Ÿæˆ
                        for (let i = 0; i < item.ans.length; i++) {
                            masuHtml += '<div class="masu-error"></div>';
                        }
                        contentHtml += `
                            <div class="error-col">
                                <div class="check-mark">Ã—</div>
                                <div class="error-sentence">${item.q}</div>
                                <div class="s-arrow">â‡©</div>
                                <div class="error-masu-container">
                                    ${masuHtml}
                                </div>
                            </div>`;
                    });
                }

                sheet.innerHTML = `
                    <div class="sidebar">
                        <div class="title">${page.title}</div>
                        <div class="name-box">ï¼ˆã€€ã€€ã€€ï¼‰ã­ã‚“ï¼ˆã€€ã€€ã€€ï¼‰ãã¿<br><br>ãªã¾ãˆï¼ˆã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼‰</div>
                        <div class="instruction">${page.inst}</div>
                        <div class="page-num">${page.id}</div>
                    </div>
                    <div class="${contentClass}">${contentHtml}</div>
                `;
                container.appendChild(sheet);
            });
        }

        function switchView() {
            const index = document.getElementById('pageSelector').value;
            document.querySelectorAll('.sheet').forEach(s => s.classList.remove('active'));
            document.getElementById(`sheet-${index}`).classList.add('active');
        }

        window.onload = generateAllPages;
    </script>
</body>
</html>
